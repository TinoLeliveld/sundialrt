EXT_PKGDR=`$(R_HOME)/bin/Rscript -e "Rcppsbmod:::LdFlags()"`
PKG_CPPFLAGS= -I../inst/include/ -I src/sundials
PKG_LIBS= $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) -L../inst -lsundials_all
LIBS+=-L$(EXT_PKGDR)

SOURCES= $(wildcard ./*.cpp)
OBJECTS= $(SOURCES:.cpp=.o)

all: $(SHLIB) ../inst/libsundials_all.a

$(SHLIB): $(OBJECTS) ../inst/libsundials_all.a

../inst/libsundials_all.a: $(OBJECTS)
	ar -rvs ../inst/libsundials_all.a $(OBJECTS)
